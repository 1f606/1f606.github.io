---
layout:     post
title:      Cordova基础
subtitle:   
date:       2023-4-15
author:     sq
header-img: 
catalog: true
tags:
    - Cordova
---
# Cordova基础
Cordova 是一个容器，能将 Web 引用移植到移动端，同时支持移动端的功能（如摄像头、蓝牙等）。

## 环境搭建
1. Node
2. Android 环境（JDK, Android Studio, Gradle)
   1. JAVA_HOME
   2. ANDROID_HOME, ANDROID_SDK_ROOT
   3. PATH
3. IOS 环境 XCode，IOS模拟器 和 npm install -g ios-sim ios-deploy
4. VS Code Cordova Tools插件

### JDK
在oracle上下载Java Development Kit，安装后设置环境变量：高级系统设置-环境变量-系统变量-新建
```
JAVA_HOME=C:\Program\java\jdk1.8.0_271
```

同样是环境变量中系统变量，Path中新增两个路径
```
%JAVA_HOME%\bin
%JAVA_HOME%\jre\bin
```

如果以下命令可以正常运行，则说明环境变量安装成功
```shell
java -version
javac
```

### Android Studio
AS 是安卓开发的编辑器和运行环境。

安装过程全程开vpn。

下载地址：
```
https://developer.android.com/studio/index.html
```

安装完成后找到 SDK Manager，选中 SDK Platforms，勾选 Show Package Details，确保勾选了以下组件：
- Android SDK Platform 29
- Intel x86 Atom_64 System Image

选中 SDK Tools，同样勾选 Show Package Details。确保勾选了 Android SDK Build-Tools 下的 29.0.2版本

开着vpn装，一般上面的都装了的。应该 Platform 29的29和 SDK Build-Tools 下的 29.0.2应该是根据自己版本定的，只是说明要勾选的组件。

设置环境变量-系统变量。
```
ANDROID_HOME=C:\Users\用户名\AppData\Local\Android\Sdk
ANDROID_SDK_ROOT=C:\Users\用户名\AppData\Local\Android\Sdk
```

### gradle
下载地址：https://services.gradle.org/distributions/

推荐版本：gradle-6.5.1-all.zip

解压后添加bin文件夹路径到环境变量-系统变量-path中。

检测安装结果：
```shell
gradle -v
```

## 初始化项目
安装 Cordova Cli
```shell
npm install -g cordova

cordova -v
```

创建项目：
```shell
cordova create HelloWorld io.cordova.hellocordova CordovaAppTitle

#HelloWorld 应用程序目录名称
#io.cordova.hellocordova 项目唯一标识（默认的反向域值）。一般是点连接的语法
#CordovaAppTitle 应用的标题
```

默认是没有平台的，需要添加：
```shell
#浏览器
cordova platform add browser

#添加安卓平台，并保存在 config.xml 中
cordova platform add android --save

# 查看当前平台
cordova platform ls
```
