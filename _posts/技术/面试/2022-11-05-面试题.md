---
layout:     post
title:      面试题整理
subtitle:   
date:       2022-11-05
author:     sq
header-img: 
catalog: true
tags:
    - 面试
---
# 面试题
## vue
### 对vue的理解
Vue是一个创建单页应用的框架。
核心特性：
1. 数据驱动MVVM。
Model：模型层。负责处理业务逻辑，泛指后端进行的各种业务逻辑处理和数据操控。
View：视图层：负责将数据模型转化为UI展示出来。
ViewModel：视图模型层，通过双向绑定用来连接Model和View
框架的双向绑定让开发者不再需要频繁操作DOM，只需处理好viewModel，视图就会更新，实现数据驱动开发。
ViewModel它的主要职责就是：
- 数据变化后更新视图
- 视图变化后更新数据
当然，它还有两个主要部分组成
- 监听器（Observer）：对所有数据的属性进行监听
- 解析器（Compiler）：对每个元素节点的指令进行扫描跟解析,根据指令模板替换数据,以及绑定相应的更新函数
2. 组件化
组件化就是把视图和非视图的各种逻辑均抽象为一个统一的概念来实现开发的模式，在Vue中每一个.vue文件都可以视为一个组件。
优点是降低了系统耦合度，方便调试和提高了可维护性。
3. 指令系统
指令是带有 v- 前缀的特殊属性，当对应的表达式发生变化，会作用到DOM上。
> MVC
> Model：数据模型，用来存储数据
> View：视图界面，用来展示UI界面和响应用户交互
> Controller：控制器(大管家角色)，监听模型数据的改变和控制视图行为、处理用户交互
### 什么是SPA
SPA就是单页应用。通过动态重写当前页面与用户交互，避免了页面之间切换而频繁刷新。
### SPA和MPA区别
MPA中每个页面都是独立的，访问另外一个页面时需要重新加载CSS、HTML和JS。切换页面会整页刷新，对SEO友好。
### 实现SPA
#### hash模式
```javascript
class Router {
  constructor () {
    this.routes = {};
    this.currentUrl = '';
    window.addEventListener('load', this.refresh, false);
    window.addEventListener('hashchange', this.refresh, false);
  }
  route (path, callback) {
    this.routes[path] = callback;
  }
  push (path) {
    this.routes[path] && this.routes[path]();
  }
  refresh () {
    const url = window.location.hash.slice(1);
    this.routes[url] && this.routes[url]();
  }
}
```
#### history模式
history.pushState 浏览器历史纪录添加记录
history.replaceState修改浏览器历史纪录中当前纪录
history.popState 当 history 发生变化时触发
通过history.pushState方法改变地址栏。仅改变url和增加到历史记录中，不会向服务器发起请求。
改变会触发popstate事件。调用pushState和replaceState不会触发这个事件。只有点击浏览器的前进，后退，调用history.back和history.forward的时候才会触发。
### 如何给SPA做SEO优化
1. 服务端渲染，如nuxt
2. 静态化
目前主流的静态化主要有两种：
（1）一种是通过程序将动态页面抓取并保存为静态页面，这样的页面的实际存在于服务器的硬盘中
（2）另外一种是通过WEB服务器的 URL Rewrite的方式，它的原理是通过web服务器内部模块按一定规则将外部的URL请求转化为内部的文件地址，一句话来说就是把外部请求的静态地址转化为实际的动态页面地址，而静态页面实际是不存在的。这两种方法都达到了实现URL静态化的效果
3. 使用Phantomjs针对爬虫处理
### vue实例挂载发生了什么
1. 调用init初始化方法数据
2. 调用$mount挂载，render方法生成虚拟DOM，update方法将虚拟DOM转为真实DOM并渲染。
### SPA首屏加载速度慢
1. 首屏时间计算：new Date.getTime() - performance.timing.navigationStart（在body标签后计算）
2. 白屏时间静思园：在<head>标签前面加一个<script>标签，里面加入上面相同代码。
#### 加载慢的原因
网络延时
资源体积
渲染堵塞
#### 解决方法
减小入口文件体积。路由懒加载
静态资源本地缓存。HTTP缓存，设置Cache-Control，Last-Modified，Etag等响应头
UI框架按需加载
图片资源的压缩 雪碧图、体积压缩、使用在线字体
组件重复打包，webpack config minChunks。
开启GZip压缩
使用SSR
DNS预解析
### vue中组件和插件的区别
组件是用来构成应用的业务模块，插件是增强技术栈的功能模块
### vue中的通信方式
- 通过 props 传递
- 通过 $emit 触发自定义事件
- 使用 ref
- EventBus
- $parent 或$root
- attrs 与 listeners
- Provide 与 Inject

## css
### 水平居中
- text-align: center。居中子元素为行内或行内块适用。
- margin: auto + width。居中元素需要设置具体宽度。
- width：fit-content。可以作用在居中元素或居中元素的父元素上。
### 垂直居中
- table-cell + vertical-align middle。
- line-height 与 height 同高 + 居中子元素inline-block，line-height initial。如果对子元素的大小没有要求，只需行高和高相同即可。
- 父元素伪元素inline-block，vertical middle，height 100% + 子元素inline-block。
### 水平垂直居中
- flex。flex中还有个方案是margin auto。
- grid。justify-self: center，align-self: center。margin auto也支持。
- 绝对定位+transform。
- 绝对定位+（calc、负margin）。需要知道居中元素宽高。
- 绝对定位+left、top等设置为0，margin auto。但会导致宽高100%。
- writing-mode。需要嵌套多一层元素。
```css
.out {
    writing-mode: vertical-lr;
    text-align: center;
}
.in {
    display: inline-block;
    width: 100%;
    height: auto;
    writing-mode: horizontal-tb;
    text-align: center;
}
.content {
    display: inline-block;
}
```
### 双飞翼布局、圣杯布局
双飞翼和圣杯布局左中右三列布局，渲染顺序中间列书写在前保证提前渲染，左右两列定宽，中间列自适应剩余宽度。

双飞翼：三个元素都是浮动，左列margin-left -100%（以父元素为基准），右列margin-left-自己宽度。中间宽度百分百，其子元素通过设置margin或padding空出两边。
圣杯：父元素padding空出两边，三个元素都是浮动，左列relative，left -自己宽度，margin-left -100%，右列right和margin-left -自己宽度，中间宽度百分百。
### 多列等高
多列等高，要求左右两列高度自适应且一样，分别设置不同背景色。

- 父overflow hidden，子都float，padding bottom9999，margin top -9999
- 父border-left空出左列宽度，左列float，margin-left -width。
- 障眼法。父背景渐变色，子都float left
```css
.p {
linear-gradient(90deg, #4caf50 0, #4caf50 20%, #99afe0 20%, #99afe0);
}
```
- flex，stretch
- grid。grid，grid-template-columns: 200px auto;
- 父table子都table-cell

### 单列固定，其余均分
首列宽度固定为200px，其余3列均分剩余宽度，每列间距10px
- grid-template-columns: 200px repeat(3, 1fr)，grid-column-gap: 10px。
- flex+calc
- float+calc
- absolute。分两个子元素，都absolute，左边固定宽度。右边清除浮动，前后伪元素table, 后伪元素clear：both。子元素是一个div，里面三个float left width 33.33%。

### 盒模型
盒模型包括content、padding、border和margin。
### box-sizing
不同的盒模型、width所指定的区域不同。box-sizing属性控制盒模型的解析模式。
1. content box。width设置的尺寸是content的尺寸。
2. border box。width设置的是包含border在内的尺寸。

### CSS选择器有哪些
1. id选择器
2. class选择器
3. 标签选择器
4. 后代选择器
5. 子元素选择器
6. 相邻选择器（h1 + p）
7. 通配符选择器（*）
8. 属性选择器（a[href="1"])
9. 伪类、伪元素选择器（a:hover, a::after）

### 选择器优先级
从小到大：继承、元素、类、id、标签和 !important。如果优先级相同，选择后出现的。
### 可继承的CSS属性
1. font-size
2. font-family
3. color

### 伪类
- :first-of-type 选择属于其父元素的首个元素
- :last-of-type 选择属于其父元素的最后元素
- :only-of-type 选择属于其父元素唯一的元素
- :only-child 选择属于其父元素的唯一子元素
- :nth-child(2) 选择属于其父元素的第二个子元素
- :enabled :disabled 表单控件的禁用状态
- :checked 单选框或复选框被选中

### 常见兼容性问题
1. IE下，可以使用获取常规属性的方法来获取自定义属性,也可以使用getAttribute()获取自定义属性；Firefox下，只能使用getAttribute()获取自定义属性。解决方法:统一通过getAttribute()获取自定义属性。
2. Chrome 中文界面下默认会将小于 12px 的文本强制按照 12px 显示,可通过加入 CSS 属性 -webkit-text-size-adjust: none; 解决。

### BFC块级格式上下文
BFC 规定了内部的 Block Box如何布局。
1. 内部的Box会在垂直方向上一个接一个放置。
2. Box垂直方向的距离由margin决定，属于同一个BFC的两个相邻Box的margin会发生重叠。
3. 每个元素的margin box 的左边，与包含块border box的左边相接触。
4. BFC的区域不会与float box重叠。
5. BFC是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。
6. 计算BFC的高度时，浮动元素也会参与计算。

满足下列条件之一就可触发BFC
1. 根元素，即html
2. float的值不为none（默认）
3. overflow的值不为visible（默认）
4. display的值为inline-block、table-cell、table-caption
5. position的值为absolute或fixed

### 清除浮动的方式
1. 父级div定义height
2. 最后一个浮动元素后加空div标签 并添加样式clear:both。
3. 包含浮动元素的父标签添加样式overflow为hidden或auto。
4. 父级div定义zoom
5. 父元素伪元素设置
6. 前后伪元素 display table, 后伪元素clear both
### 设置元素浮动后，元素的display值是？
自动变成block

### 媒体查询
1. head 标签内 link 标签设置。
```html
<link rel="stylesheet" type="text/css" href="xxx.css" media="only screen and (max-device-width:480px)">
```
2. css
```css
@media only screen and (max-device-width:480px) {
}
```

### 在网页中的应该使用奇数还是偶数的字体？
使用偶数字体。偶数字号相对更容易和 web 设计的其他部分构成比例关系。

### margin和padding适用场景
padding在border内，margin在外。padding有背景色，margin无。相邻盒子margin会重叠。

### padding、margin的百分比设定相对于哪个元素
相对于父元素的宽度

### 如何理解 line-height
行高是指两行文字间基线的距离。CSS中起高度作用的是height和line-height，没有定义height属性，最终其表现作用一定是line-height。

### 怎么让 Chrome 支持小于12px 的文字？
transform scale

### 让页面里的字体变清晰，变细用 CSS 怎么做？
-webkit-font-smoothing在window系统下没有起作用，但是在IOS设备上起作用-webkit-font-smoothing：antialiased是最佳的，灰度平滑。

### position:fixed; 在 Android 下无效怎么处理？
```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>
```

### 如果需要手动写动画，你认为最小时间间隔是多久，为什么？
多数显示器默认频率是60Hz，即1秒刷新60次，所以理论上最小间隔为1/60＊1000ms ＝ 16.7ms。

### li与li之间有看不见的空白间隔是什么原因引起的？有什么解决办法？
行框的排列会受到中间空白（回车空格）等的影响，因为空格也属于字符,这些空白也会被应用样式，占据空间，所以会有间隔。

解决方法：
1. li 代码写在一行
2. 浮动li
3. ul 设置字体大小0。或者letter-space: -3px

### style标签写在body后与body前有什么区别？
页面加载自上而下 当然是先加载样式。

写在body标签后由于浏览器以逐行方式对HTML文档进行解析，当解析到写在尾部的样式表（外联或写在style标签）会导致浏览器停止之前的渲染，等待加载且解析样式表完成之后重新渲染，出现页面闪烁问题。

### CSS属性overflow属性定义溢出元素内容区的内容会如何处理?
参数是scroll时候，必会出现滚动条。

参数是auto时候，子元素内容大于父元素时出现滚动条。

参数是visible时候，溢出的内容出现在父元素之外。

参数是hidden时候，溢出隐藏。

## 资料
[1] [CSS 拷问：水平垂直居中方法你会几种？](https://liuyib.github.io/2020/04/07/css-h-and-v-center/)
[2] [CSS灵感](https://csscoco.com/inspiration/)
